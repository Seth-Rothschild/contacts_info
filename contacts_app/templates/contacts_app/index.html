<!DOCTYPE html>
<html>
    <style>
        button.contact {
            text-align: left;
            width: 98%;
            margin: 2px;
            padding: 5px;
        }
        button.add {
            margin: 2px;
            margin-top: 40px;
            padding: 10px;
        }
    </style>
    <head>
        <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Contacts Tracker</title>
    </head>
    <body>
    <h2> Welcome! </h2>
    <p>
        <h3>Upcoming Important Dates</h3>
        <ul>
            {% for upcoming in upcoming_milestones %}
                <li>{{upcoming.description}} {{upcoming.date}}</li>
            {% endfor %}
        </ul>
    </p>
    <p>
        <h3>Recent Important Dates</h3>
        <ul>
            {% for recent in recent_milestones %}
                <li>{{recent.description}} {{recent.date}}</li>
            {% endfor %}
        </ul>
    </p>


    {% if contacts_list %}
        <h3> Contacts List </h3>
        {% for contact in contacts_list %}
        <form action="{% url 'contact_details' contact.id %}" method="get">
            <button class='contact'>
                <b>{{contact.name}}</b> <br>
                Most Recent Event: {{contact.most_recent_event.date}}
            </button>
        </form>
        {% endfor %}

    {% else %}
        <p>No contacts exist.</p>
    {% endif %}

    <form action="{% url 'add_contact' %}", method="get">
        <button class='add'>Add Contact</button>
    </form>
  </body>
</html>
